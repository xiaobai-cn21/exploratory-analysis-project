# AP/IB课程与评估数据挖掘项目计划书

## 一、项目基本信息

### 1.1 项目名称
**纽约州AP/IB课程与评估数据的教育公平性分析与预测**

### 1.2 数据来源
- **数据集名称**：Advanced Placement and International Baccalaureate Course and Assessment Data 2024
- **数据来源**：纽约州教育部（NYSED）官方数据门户
- **官方网站**：https://data.nysed.gov/downloads.php
- **数据收录**：GitHub Awesome Public Datasets（教育类数据集）
- **学年范围**：2023-2024学年
- **数据规模**：
  - AP_IB_Course_2024.mdb（课程数据库）
  - AP_IB_Assessment_2024.mdb（评估数据库，114,685行）

### 1.3 项目周期
- **总时长**：1个月（4周）
- **团队规模**：4人小组
- **工作模式**：分工协作，使用AI工具辅助

---

## 二、数据挖掘任务与研究问题

### 2.1 核心研究问题

#### 问题1：教育公平性分析
- 不同社会经济背景学生在AP/IB课程参与度上是否存在显著差异？
- 经济困难、种族、性别等因素如何影响学生的高级课程选择？

#### 问题2：成绩预测与影响因素
- 能否基于学生特征（人口统计学、地区、学校资源等）预测AP/IB考试表现？
- 哪些因素对考试达标率影响最大？

#### 问题3：地理分布与资源配置
- 纽约州各地区AP/IB项目覆盖率如何？
- 城市vs农村、高N/RC vs低N/RC学区在课程提供上有何差异？

#### 问题4：课程-考试转化率分析
- 课程注册率与考试参与率、通过率的关系如何？
- 如何提高课程注册学生的考试参与率和通过率？

### 2.2 数据挖掘任务类型

| 任务类型 | 具体内容 | 算法/方法 |
|---------|---------|----------|
| **描述性分析** | 数据探索、统计分析、可视化 | 描述统计、多维度聚合 |
| **分类任务** | 预测学生是否达标（AP≥3分，IB≥4分） | 逻辑回归、决策树、随机森林、XGBoost |
| **聚类分析** | 学校/学区分组，识别教育资源模式 | K-means、层次聚类 |
| **关联规则** | 发现课程选择模式、学生特征关联 | Apriori、FP-Growth |
| **回归分析** | 预测考试分数、参与率 | 线性回归、支持向量回归 |

---

## 三、技术路线设计

### 3.1 整体流程图

```
数据获取 → 数据预处理 → 探索性分析 → 特征工程 → 模型构建 → 结果评估 → 可视化呈现
   ↓           ↓            ↓           ↓          ↓          ↓          ↓
Access DB   清洗整合      统计可视化    特征选择    多模型     交叉验证    交互式
数据库      缺失值处理    分布分析      特征编码    训练对比    性能指标    Dashboard
```

### 3.2 详细技术路线

#### 阶段1：数据收集与准备（Week 1，前3天）

**任务内容**：
1. **数据读取**
   - 使用Python pyodbc连接Access数据库
   - 将两个数据库表导入为pandas DataFrame
   - 保存为CSV格式便于后续处理

2. **数据整合**
   - 合并课程数据和评估数据
   - 基于共同字段（学校、学区、学生分组等）进行连接
   - 创建综合分析数据集

3. **初步探索**
   - 了解数据规模、结构
   - 识别关键字段和业务逻辑

**使用工具**：
- Python：pandas, pyodbc
- AI辅助：使用Cursor AI辅助编写数据读取代码

---

#### 阶段2：数据预处理（Week 1，后4天）

**任务内容**：

**2.1 缺失值处理**
- 识别被抑制的数据（"-"符号）
- 策略：
  - 对于计数数据：标记为特殊类别或使用中位数填充
  - 对于百分比数据：考虑删除或单独分析
  - 记录缺失模式，分析缺失原因

**2.2 数据类型转换**
- 将Text类型的数值字段转换为数值型
- 使用Val()函数或pandas的to_numeric()
- 处理异常值和格式不一致问题

**2.3 数据清洗**
- 去除重复记录
- 处理异常值（如负数、超出范围的值）
- 标准化地名、学校名称
- 统一编码格式

**2.4 数据变换**
- 创建派生变量：
  - 课程参与率 = 注册人数 / 该年级总人数
  - 考试转化率 = 考试人数 / 注册人数
  - 达标率 = 达标人数 / 考试人数
- 对高偏态数据进行对数变换
- 标准化/归一化数值特征

**2.5 数据编码**
- 对分类变量进行编码：
  - 顺序编码：年级、N/RC等级
  - 独热编码：种族、性别、学科
  - 标签编码：学区代码、学校代码

**使用工具**：
- Python：pandas, numpy, sklearn.preprocessing
- AI辅助：使用ChatGPT/Cursor生成数据清洗脚本

**预期产出**：
- 清洗后的数据集（CSV格式）
- 数据预处理报告
- 数据质量评估文档

---

#### 阶段3：探索性数据分析（Week 2，前4天）

**任务内容**：

**3.1 描述性统计**
- 各变量的基本统计量（均值、中位数、标准差、分位数）
- 课程注册量、考试参与量的整体情况
- 各分组的参与率和达标率

**3.2 单变量分析**
- 课程注册数分布
- 考试成绩分布（各等级人数）
- 人口统计学特征分布

**3.3 多变量分析**
- 不同人口统计分组的参与率对比
- 各学科领域的热度分析
- N/RC分类与考试表现的关系
- 地理分布（县、学区）差异分析

**3.4 相关性分析**
- 特征间的相关系数矩阵
- 识别强相关特征
- 探索潜在的因果关系

**3.5 统计可视化**
- **分布图**：直方图、密度图、箱线图
- **对比图**：条形图、分组柱状图
- **关系图**：散点图、热力图
- **地理图**：纽约州分县热力图
- **趋势图**：不同分组的参与率/达标率对比

**可视化类型**：
1. 课程注册人数Top 20课程
2. 各族裔AP/IB参与率对比
3. 经济困难vs非经济困难学生成绩对比
4. 纽约市vs其他地区对比
5. N/RC分类的资源分配情况
6. 成绩等级分布（堆叠条形图）
7. 课程学科热力图
8. 地理分布地图（县级）

**使用工具**：
- Python：matplotlib, seaborn, plotly
- 地图可视化：folium, geopandas
- 交互式可视化：plotly, bokeh
- AI辅助：使用AI生成可视化代码

**预期产出**：
- 探索性分析报告（含20+可视化图表）
- 数据洞察总结
- 问题发现与假设提出

---

#### 阶段4：特征工程（Week 2，后3天）

**任务内容**：

**4.1 特征选择**
- 基于相关性的特征筛选
- 基于方差的特征筛选
- 递归特征消除（RFE）
- 基于模型的特征重要性排序

**4.2 特征构造**
- 创建交互特征（如经济状况×种族）
- 聚合统计特征（学区级、县级平均值）
- 比例特征（参与率、达标率、转化率）
- 时间特征（如果有历史数据）

**4.3 维度规约**
- PCA主成分分析
- 特征降维（保留95%方差）

**4.4 数据集划分**
- 训练集：70%
- 验证集：15%
- 测试集：15%
- 确保分层采样（保持类别比例）

**使用工具**：
- Python：sklearn.feature_selection, sklearn.decomposition
- AI辅助：特征工程策略咨询

**预期产出**：
- 特征工程报告
- 最终特征集（50-100个特征）
- 数据集划分文件

---

#### 阶段5：数据挖掘模型构建（Week 3，7天）

**任务内容**：

**5.1 分类任务：预测学生是否达标**

**算法选择**：
1. **基准模型**：逻辑回归
2. **树模型**：决策树、随机森林
3. **提升模型**：XGBoost、LightGBM、CatBoost
4. **神经网络**：多层感知机（MLP）
5. **支持向量机**：SVM（如数据量适中）

**模型实现步骤**：
```python
# 示例框架
1. 导入库和数据
2. 定义特征和目标变量
3. 数据标准化
4. 模型训练：
   - 逻辑回归（基准）
   - 随机森林（n_estimators=100-500）
   - XGBoost（调参：max_depth, learning_rate, n_estimators）
   - 交叉验证（5-fold CV）
5. 超参数调优：
   - GridSearchCV 或 RandomizedSearchCV
   - 贝叶斯优化（Optuna）
6. 模型集成（Voting/Stacking）
```

**5.2 聚类任务：学校/学区分组**

**算法选择**：
1. **K-means聚类**：快速、可解释
2. **层次聚类**：揭示层次结构
3. **DBSCAN**：识别异常学校

**聚类特征**：
- N/RC代码
- 课程提供数量
- 学生参与率
- 平均达标率
- 经济困难学生比例

**5.3 关联规则挖掘：课程选择模式**

**算法**：
- Apriori算法
- FP-Growth算法

**分析内容**：
- 学生同时选修的课程组合
- 特定分组学生的课程偏好
- 课程选择与考试表现的关联

**5.4 回归任务：预测考试分数**

**算法**：
- 线性回归
- 岭回归、Lasso回归
- 随机森林回归
- XGBoost回归

**使用工具和平台**：
- **核心库**：scikit-learn, xgboost, lightgbm, catboost
- **深度学习**：TensorFlow/PyTorch（可选）
- **关联规则**：mlxtend
- **超参数调优**：Optuna, GridSearchCV
- **模型解释**：SHAP, LIME
- **开发环境**：Jupyter Notebook / VS Code + Cursor
- **AI辅助**：
  - Cursor AI：代码生成和调试
  - ChatGPT：算法选择咨询、参数调优建议
  - GitHub Copilot：代码补全

**预期产出**：
- 多个训练好的模型文件
- 模型训练日志
- 特征重要性分析
- 模型解释报告（SHAP值）

---

#### 阶段6：结果评估（Week 3-4，3天）

**任务内容**：

**6.1 分类模型评估指标**
- **准确率（Accuracy）**：整体正确率
- **精确率（Precision）**：预测为正的准确性
- **召回率（Recall）**：实际为正的捕获率
- **F1分数**：精确率和召回率的调和平均
- **ROC曲线和AUC值**：模型区分能力
- **混淆矩阵**：详细分类情况
- **分类报告**：各类别指标

**6.2 回归模型评估指标**
- **均方误差（MSE）**
- **均方根误差（RMSE）**
- **平均绝对误差（MAE）**
- **R²决定系数**
- **调整R²**

**6.3 聚类模型评估指标**
- **轮廓系数（Silhouette Score）**
- **Davies-Bouldin指数**
- **Calinski-Harabasz指数**
- **聚类可视化**（降维到2D/3D）

**6.4 模型对比**
- 制作模型性能对比表
- 绘制ROC曲线对比图
- 分析各模型优缺点
- 选择最佳模型

**6.5 交叉验证**
- 5折交叉验证
- 留一法交叉验证（如数据量允许）
- 验证模型稳定性

**6.6 误差分析**
- 分析错误分类的案例
- 识别模型弱点
- 提出改进建议

**使用工具**：
- Python：sklearn.metrics
- 可视化：matplotlib, seaborn
- AI辅助：结果解释和改进建议

**预期产出**：
- 模型评估报告
- 性能对比表格和图表
- 最佳模型选择说明
- 误差分析报告

---

#### 阶段7：结果可视化与呈现（Week 4，前3天）

**任务内容**：

**7.1 数据挖掘结果可视化**
- 特征重要性排序图
- 模型性能对比图
- 预测结果分布图
- 聚类结果可视化
- SHAP力图（特征贡献）
- 部分依赖图（PDP）

**7.2 交互式Dashboard**
- 使用Plotly Dash或Streamlit构建
- 功能模块：
  - 数据概览
  - 探索性分析结果展示
  - 模型预测演示
  - 参数调整和实时预测
  - 聚类结果交互查看

**7.3 结果解读**
- 主要发现总结
- 教育政策建议
- 资源配置优化建议
- 局限性说明

**使用工具**：
- Plotly, Dash, Streamlit
- PowerBI/Tableau（可选）
- Python可视化库

**预期产出**：
- 交互式Dashboard
- 可视化图表集（20+）
- 结果解读文档

---

#### 阶段8：报告撰写与汇报准备（Week 4，后4天）

**任务内容**：

**8.1 数据挖掘报告撰写**

**报告结构**：
1. **摘要**（1页）
   - 研究背景
   - 主要发现
   - 关键结论

2. **引言**（2页）
   - 研究背景与意义
   - 数据来源说明
   - 研究问题与目标

3. **数据概述**（2页）
   - 数据集描述
   - 数据结构说明
   - 数据规模统计

4. **技术路线**（2页）
   - 整体流程图
   - 工具和平台
   - 人员分工

5. **数据预处理**（3-4页）
   - 数据清洗策略
   - 缺失值处理
   - 特征工程
   - 数据集划分

6. **探索性数据分析**（5-6页）
   - 描述性统计
   - 可视化分析
   - 相关性分析
   - 主要发现

7. **数据挖掘实现**（6-8页）
   - 算法选择与原理
   - 模型构建过程
   - 超参数调优
   - 模型集成

8. **结果评估**（4-5页）
   - 评估指标说明
   - 模型性能对比
   - 交叉验证结果
   - 误差分析

9. **结果可视化与解释**（3-4页）
   - 关键可视化图表
   - 结果解读
   - 政策建议

10. **AI工具使用说明**（2页）
    - 使用的AI工具清单
    - 各工具的应用场景
    - AI辅助的效果评估

11. **小组分工与工作量**（1页）
    - 详细分工表
    - 各成员贡献度

12. **总结与展望**（1页）
    - 研究总结
    - 局限性
    - 未来工作方向

13. **参考文献**

**报告页数**：30-40页

**8.2 汇报PPT制作**

**PPT结构**（20-25页）：
1. 封面（项目名称、小组成员）
2. 目录
3. 研究背景（1-2页）
4. 数据介绍（2页）
5. 技术路线（1页）
6. 数据预处理（2页）
7. 探索性分析亮点（3-4页）
8. 数据挖掘方法（3-4页）
9. 结果展示（4-5页）
10. 模型评估（2页）
11. AI工具应用（1页）
12. 主要发现与建议（2页）
13. 总结与致谢（1页）

**PPT设计要求**：
- 简洁美观的设计风格
- 清晰的可视化图表
- 关键数字突出显示
- 动画效果适度

**8.3 讲解视频录制**

**视频内容**（10-15分钟）：
- 每位成员负责讲解自己的部分
- 配合PPT进行演示
- 展示Dashboard交互操作
- 重点突出创新点和主要发现

**录制工具**：
- OBS Studio / Camtasia
- PPT自带录屏功能
- 腾讯会议/Zoom录制

**使用工具**：
- 报告：Microsoft Word / LaTeX
- PPT：PowerPoint / Keynote / Canva
- 视频：OBS Studio, 剪映
- AI辅助：
  - ChatGPT：报告内容润色
  - Grammarly：语法检查
  - Cursor AI：代码注释完善

**预期产出**：
- 数据挖掘报告（PDF，30-40页）
- 汇报PPT（PPTX，20-25页）
- 讲解视频（MP4，10-15分钟）
- 完整代码（带注释）
- 数据集和模型文件

---

## 四、工具与平台清单

### 4.1 开发环境
- **IDE**：Visual Studio Code + Cursor AI
- **Notebook**：Jupyter Notebook / JupyterLab
- **版本控制**：Git + GitHub（代码协作）
- **文档协作**：腾讯文档 / 飞书文档

### 4.2 Python核心库

#### 数据处理
- pandas：数据操作
- numpy：数值计算
- pyodbc：数据库连接

#### 可视化
- matplotlib：基础绘图
- seaborn：统计可视化
- plotly：交互式图表
- folium：地图可视化
- geopandas：地理数据处理

#### 机器学习
- scikit-learn：经典机器学习算法
- xgboost：梯度提升
- lightgbm：轻量级梯度提升
- catboost：类别特征优化
- imbalanced-learn：处理不平衡数据

#### 模型解释
- shap：模型解释
- lime：局部解释

#### 关联规则
- mlxtend：关联规则挖掘

#### 深度学习（可选）
- tensorflow / pytorch：神经网络

#### Dashboard
- streamlit：快速构建Web应用
- dash：交互式Dashboard

### 4.3 AI辅助工具

| 工具 | 用途 | 使用场景 |
|------|------|----------|
| **Cursor AI** | 代码生成、调试 | 编写数据处理、建模代码 |
| **ChatGPT-4** | 咨询、文档撰写 | 算法选择、报告润色 |
| **GitHub Copilot** | 代码补全 | 加速编码效率 |
| **Claude** | 技术文档理解 | 理解数据文档、API文档 |
| **Grammarly** | 语法检查 | 报告英文部分校对 |
| **Perplexity** | 文献检索 | 查找相关研究和方法 |
| **NotebookLM** | 知识管理 | 整理项目文档和笔记 |

### 4.4 其他工具
- **数据管理**：Microsoft Access（查看原始数据）
- **报告撰写**：Microsoft Word / LaTeX
- **演示文稿**：PowerPoint / Canva
- **视频录制**：OBS Studio / 腾讯会议
- **视频剪辑**：剪映 / DaVinci Resolve
- **项目管理**：Trello / 飞书任务

---

## 五、预期成果与创新点

### 5.1 预期成果

#### 学术成果
1. **全面的教育公平性分析报告**
   - 揭示纽约州AP/IB教育资源分配现状
   - 量化社会经济因素对教育机会的影响

2. **准确的预测模型**
   - 学生达标预测准确率 > 85%
   - 识别关键影响因素（Top 10）

3. **可操作的政策建议**
   - 资源配置优化方案
   - 提高参与率和通过率的策略

#### 技术成果
1. **完整的数据挖掘流程代码**
   - 可复用的数据处理pipeline
   - 模块化的建模框架
   - 详细的代码注释和文档

2. **交互式分析Dashboard**
   - 实时数据查询和可视化
   - 模型预测演示
   - 用户友好的界面

3. **高质量的可视化图表集**
   - 20+专业数据可视化
   - 讲故事式的图表设计

### 5.2 创新点

#### 创新点1：多维度教育公平性量化框架
- 构建综合评估指标体系
- 结合地理、经济、人口统计多维度
- 创新的公平性评分模型

#### 创新点2：课程-考试转化漏斗分析
- 分析从注册→参考→达标的完整链路
- 识别各环节的流失因素
- 提出针对性干预策略

#### 创新点3：模型可解释性增强
- 使用SHAP值深度解释每个预测
- 为教育决策者提供直观的因果理解
- 开发"假设场景"模拟工具

#### 创新点4：AI工具深度融合
- 全流程AI辅助（从数据理解到报告撰写）
- 记录和评估AI工具的实际效果
- 提出"AI辅助数据挖掘"最佳实践

---

## 六、风险评估与应对

### 6.1 潜在风险

| 风险 | 可能性 | 影响 | 应对策略 |
|------|--------|------|----------|
| 数据质量问题（大量缺失值） | 中 | 高 | 制定多种缺失值处理策略，进行敏感性分析 |
| 模型性能不达预期 | 中 | 中 | 尝试多种算法，调整特征工程，使用集成学习 |
| 时间进度延误 | 中 | 高 | 每周进度check，关键路径管理，预留缓冲时间 |
| 团队成员技能差异 | 低 | 中 | 交叉培训，AI工具降低技术门槛 |
| Access数据库读取困难 | 低 | 中 | 准备多种读取方案（pyodbc, pandas, Excel转换） |

### 6.2 质量保证措施
- 每周团队会议，同步进度
- 代码peer review
- 阶段性成果验收
- AI工具辅助质量检查

---

## 七、项目时间表（甘特图）

```
Week 1
├─ Day 1-3: 数据收集与初步探索
│   ├─ 读取Access数据库
│   ├─ 数据格式转换
│   └─ 初步数据理解
│
└─ Day 4-7: 数据预处理
    ├─ 缺失值处理
    ├─ 数据清洗
    ├─ 特征编码
    └─ 预处理报告

Week 2
├─ Day 1-4: 探索性数据分析
│   ├─ 描述性统计
│   ├─ 可视化分析（20+图表）
│   ├─ 相关性分析
│   └─ EDA报告
│
└─ Day 5-7: 特征工程
    ├─ 特征选择
    ├─ 特征构造
    ├─ 数据集划分
    └─ 特征工程报告

Week 3
└─ Day 1-7: 模型构建与训练
    ├─ Day 1-2: 分类模型（逻辑回归、决策树、随机森林）
    ├─ Day 3-4: 提升模型（XGBoost, LightGBM）
    ├─ Day 5: 聚类分析和关联规则
    ├─ Day 6: 回归模型
    └─ Day 7: 模型集成和优化

Week 4
├─ Day 1-3: 评估与可视化
│   ├─ 模型评估和对比
│   ├─ 误差分析
│   ├─ Dashboard开发
│   └─ 结果可视化
│
└─ Day 4-7: 报告撰写与汇报准备
    ├─ Day 4-5: 撰写数据挖掘报告
    ├─ Day 6: 制作PPT
    ├─ Day 7: 录制讲解视频，最终检查
```

---

## 八、参考资源

### 8.1 数据源
- NYSED官方网站：https://data.nysed.gov/
- GitHub Awesome Datasets：https://github.com/awesomedata/awesome-public-datasets

### 8.2 技术文档
- scikit-learn文档：https://scikit-learn.org/
- XGBoost文档：https://xgboost.readthedocs.io/
- Plotly文档：https://plotly.com/python/
- SHAP文档：https://shap.readthedocs.io/

### 8.3 相关研究
- AP/IB教育公平性研究
- 教育数据挖掘（Educational Data Mining）
- 预测分析在教育中的应用

---

## 九、总结

本项目聚焦于**纽约州AP/IB课程与评估数据的教育公平性分析与预测**，通过系统的数据挖掘流程：

1. **数据预处理**：清洗整合课程和评估数据
2. **探索性分析**：多维度可视化和统计分析
3. **数据挖掘**：分类、聚类、关联规则、回归多任务
4. **结果评估**：多指标全面评估模型性能
5. **AI辅助**：全流程使用AI工具提升效率

**核心目标**：
- ✅ 揭示教育资源分配不平等现状
- ✅ 构建准确的学生表现预测模型
- ✅ 提供可操作的教育政策建议
- ✅ 展示AI工具在数据挖掘中的应用

**预期成果**：完整的数据挖掘报告、高质量代码、交互式Dashboard、汇报PPT和视频。


---

**附录：需要的软件安装清单**

```bash
# Python核心库安装
pip install pandas numpy matplotlib seaborn plotly
pip install scikit-learn xgboost lightgbm catboost
pip install pyodbc shap lime mlxtend
pip install folium geopandas streamlit jupyter
pip install imbalanced-learn optuna
```
