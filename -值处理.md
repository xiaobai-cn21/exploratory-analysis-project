### 第一步：**数据理解**
- **识别抑制原因**：首先确认这些记录对应的`tested_student_cnt`是否都<5（如计划书所述）。如果`tested_student_cnt`也为"-"，则这些记录完全缺失；如果`tested_student_cnt`有值但<5，则等级计数被抑制。（但我检查过数据，在这一行没有-值，所以这一步不用做）

- **探索性分析部分**：
  - **保留但标记**：保留所有记录，但在计算等级比例或达标率时，仅使用完整数据。对于抑制数据，在图表中单独显示其分布（如用特殊颜色）。
  - **示例**：计算州级达标率时，只聚合`tested_student_cnt >=5`的记录；同时报告抑制记录的比例（如"全州46%的评估组因规模小被抑制"）。

- **特征工程部分**：
  - **创建指示变量**：添加布尔特征（如`is_suppressed`），标记记录是否被抑制。树模型（如随机森林）可利用此信息处理缺失。
  - **等级计数字段**：将"-"转换为`NaN`（非0），因为抑制不代表计数为0。模型训练时，使用支持缺失值的算法（如XGBoost）。

- **模型构建部分**：使用树模型时，缺失值可被自动处理（如XGBoost的`missing=True`）。对于线性模型，需删除缺失记录或插补，但删除更安全。

### 第二步：数据用途

#### 策略一：用于描述性分析和公平性探索（任务2.1, 2.3）

**目标**：理解不同群体间的差异，可视化资源分布。

**方法**：**分析抑制本身，进行有界估计，或向上聚合。**

1.  **分析抑制分布**：利用我们创建的`is_suppressed`列。计算不同种族、不同经济水平（`SUBGROUP_NAME`）、不同N/RC等级（`NRC_DESC`）的抑制比例。例如，我们可以提出并验证假设：“农村地区（High N/RC: Rural Districts）的课程抑制比例是否显著高于城市地区？”这本身就是一个强有力的公平性洞察。

2.  **向上聚合（Aggregation）**：如果我们将数据从学校层面（`aggregation_index = 4`）聚合到学区（`aggregation_index = 3`）或县（`aggregation_index = 2`），许多被抑制的小群体会被合并。合并后的总人数可能超过5人，从而出现有效的数值。在进行宏观分析时，这是一个非常有效的策略。

- **聚类与关联规则**：
  - **使用其他特征**：聚类可基于学校特征（如N/RC代码、学科等），忽略缺失的等级计数。但需注意，缺失模式本身可能反映资源分配问题（如农村学校更易被抑制），这本身是公平性分析的线索。
  - **填充避免**：不建议填充等级计数，因缺失非随机（与小组规模相关），填充会扭曲聚类结果。

#### 策略二：用于预测模型（分类和回归任务，任务2.2）

**目标**：预测学生是否达标、预测考试分数。模型需要确定的数值输入。

##### . **处理策略（按任务类型）**
- **监督学习任务（如达标预测）**：
  - **删除记录**：直接删除所有目标变量（`proficient_student_cnt`）为"-"的记录（即`tested_student_cnt <5`的记录），因为目标变量缺失无法用于训练。剩余253,080条记录仍足够建模。
  - **理由**：计划书中的分类任务依赖`proficient_student_cnt`定义达标率（AP≥3分，IB≥4分）。抑制数据无法提供标签，强行填充会引入偏差。
  （也可以用缺失值可被自动处理的模型训练，此时不用删除）

#### 策略三：用于聚类和关联规则（任务2.3, 2.4）

**目标**：发现学校模式和课程选择模式。

**方法**：**将抑制信息作为关键特征。**

1.  **聚类分析**：在对学校/学区进行聚类时，`is_suppressed`的**总次数或比例**可以作为一个非常重要的输入特征。例如，一个学校如果有很多课程都因为人数少而被抑制数据，这可能说明该校的AP/IB项目处于起步阶段、规模较小或学生参与度分散。这有助于我们识别出“小型/初创项目”的学校集群。

2.  **关联规则**：在分析课程选择模式时，被抑制的数据行应被排除在关联规则计算之外，因为我们无法知道这1-4名学生还选了哪些其他课程。分析应聚焦于有明确数据的群体。

